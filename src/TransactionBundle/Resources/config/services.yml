services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    TransactionBundle\Controller\:
        resource: '../../Controller'
        public: true
        tags: [ 'app.controller' ]

    TransactionBundle\Utils\:
        resource: '../../Utils'

    transaction.transaction_service:
        alias: TransactionBundle\Utils\TransactionService
        public: true

    transaction.default_financial_provider:
        class: TransactionBundle\Utils\Provider\DefaultFinancialProvider
        public: true
        abstract: true
        arguments:
            - '@doctrine.orm.entity_manager'
            - '@service_container'

    transaction.khm_financial_provider:
        class: TransactionBundle\Utils\Provider\KHMFinancialProvider
        parent: transaction.default_financial_provider
        autowire: false
        autoconfigure: false
        public: true

    TransactionBundle\Mapper\TransactionMapper:
        arguments:
            - "@serializer"
        public: true
